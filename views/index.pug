extends layout.pug

block title
	title Voting App

block content
	div(class="main-header")
		h1 Recent Polls
	if polls
		each poll in polls
			a(href=`/view/${poll._id}`)
				div(class="list-poll-row")
					span(class="list-poll-name")
						| #{poll.title}
					span(class="list-poll-owner")
						| #{poll.owner}
		div
			if offset > 0
				input(
					type="button"
					class="button"
					value="Previous"
					onclick=`window.location.href='/?offset=${offset - 20}';`
				)
			if more
				input(
					type="button"
					class="button"
					value="Next"
					onclick=`window.location.href='/?offset=${offset + 20}';`
				)
	else
		div(class="message")
			| #{message}